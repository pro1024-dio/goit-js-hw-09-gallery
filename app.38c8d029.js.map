{"version":3,"sources":["partials/app.js"],"names":["galleryItems","preview","original","description","ISOPEN_CLASS_NAME","gallery","document","querySelector","currentImage","createTamplate","element","handlerClick","event","elm","target","curElm","currentTarget","lightbox","lightboxImg","closeLightbox","classList","remove","src","alt","removeEventListener","showBigImage","dataset","source","stopImmediatePropagation","nodeName","preventDefault","type","code","action","parentElement","previousElementSibling","className","nextElementSibling","contains","add","addEventListener","markupArray","map","insertAdjacentHTML","join"],"mappings":";AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAoB,UACpBC,EAAUC,SAASC,cAAc,yBACvC,IAAIC,EAEJ,MAAMC,EAAiBC,6EAIXA,EAAQR,sEAIPQ,EAAQT,gCACAS,EAAQR,yBAChBQ,EAAQP,sCAMfQ,EAAeC,IACbC,MAAAA,EAAMD,EAAME,OACZC,EAASH,EAAMI,cACfC,EAAWX,SAASC,cAAc,gBAClCW,EAAcZ,SAASC,cAAc,oBAElCY,SAAAA,IACPF,EAASG,UAAUC,OAAOjB,GAC1Bc,EAAYI,IAAM,GAClBJ,EAAYK,IAAM,GAClBN,EAASO,oBAAoB,QAASb,GACtCL,SAASkB,oBAAoB,QAASb,GAG/Bc,SAAAA,EAAaZ,GACpBK,EAAYI,IAAMT,EAAIa,QAAQC,OAC9BT,EAAYK,IAAMV,EAAIU,IAUpBV,GAPJD,EAAMgB,2BACkB,MAApBb,EAAOc,UACTjB,EAAMkB,iBAGW,UAAflB,EAAMmB,MAAmC,WAAfnB,EAAMoB,MAAmBb,IAElC,WAAjBN,EAAIgB,SACEhB,OAAAA,EAAIa,QAAQO,QACb,IAAA,iBACHd,IACA,MACG,IAAA,gBAEHM,EADAjB,EAAeA,EAAa0B,cAAcA,cAAcC,uBAAuB5B,cAAc,IAAMC,EAAa4B,YAEhH,MACG,IAAA,iBAEHX,EADAjB,EAAeA,EAAa0B,cAAcA,cAAcG,mBAAmB9B,cAAc,IAAMC,EAAa4B,YAM7F,QAAjBvB,EAAIgB,UAAsBhB,EAAIO,UAAUkB,SAAS,sBAAsBnB,IACvEN,EAAIO,UAAUkB,SAAS,oBAAsBzB,EAAIO,UAAUkB,SAAS,qBACtEnB,IAImB,QAAjBN,EAAIgB,WAGNZ,EAASG,UAAUmB,IAAInC,GACvBa,EAASuB,iBAAiB,QAAS7B,GACnCL,SAASkC,iBAAiB,QAAS7B,GAGnCc,EAAaZ,GAGbL,EAAeK,IAMb4B,EAAczC,EAAa0C,IAAI7B,GAAOJ,EAAeI,IAC3DR,EAAQsC,mBAAmB,aAAcF,EAAYG,KAAK,KAE1DvC,EAAQmC,iBAAiB,QAAS7B,GAClCN,EAAQmC,iBAAiB,YAAa7B,GACtCN,EAAQmC,iBAAiB,UAAW7B","file":"app.38c8d029.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst ISOPEN_CLASS_NAME = 'is-open';\nconst gallery = document.querySelector(\"ul.gallery.js-gallery\");\nlet currentImage;\n\nconst createTamplate = element => {\n  return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${element.original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${element.preview}\"\n      data-source=\"${element.original}\"\n      alt=\"${element.description}\"\n    />\n  </a>\n</li>`;\n};\n\nconst handlerClick = event => {\n  const elm = event.target;\n  const curElm = event.currentTarget;\n  const lightbox = document.querySelector(\"div.lightbox\");\n  const lightboxImg = document.querySelector(\".lightbox__image\");\n\n  function closeLightbox() {\n    lightbox.classList.remove(ISOPEN_CLASS_NAME);\n    lightboxImg.src = \"\";\n    lightboxImg.alt = \"\";\n    lightbox.removeEventListener('click', handlerClick);\n    document.removeEventListener('keyup', handlerClick);\n  };\n\n  function showBigImage(elm) {\n    lightboxImg.src = elm.dataset.source;\n    lightboxImg.alt = elm.alt;\n  };\n\n  event.stopImmediatePropagation();\n  if (curElm.nodeName === \"A\") {\n    event.preventDefault();\n  };\n\n  if (event.type === 'keyup' && event.code === 'Escape') closeLightbox();\n\n  if (elm.nodeName === \"BUTTON\") {\n    switch (elm.dataset.action) {\n      case \"close-lightbox\":\n        closeLightbox();\n        break;\n      case \"left-lightbox\":\n        currentImage = currentImage.parentElement.parentElement.previousElementSibling.querySelector(\".\" + currentImage.className);\n        showBigImage(currentImage);\n        break;\n      case \"right-lightbox\":\n        currentImage = currentImage.parentElement.parentElement.nextElementSibling.querySelector(\".\" + currentImage.className);\n        showBigImage(currentImage);\n        break;\n    };\n  };\n\n  if (elm.nodeName === \"DIV\" && elm.classList.contains(\"lightbox__overlay\")) closeLightbox();\n  if (elm.classList.contains(\"lightbox__image\") || elm.classList.contains(\"lightbox__content\")) {\n    closeLightbox();\n    return;\n    };\n\n  if (elm.nodeName === \"IMG\") {\n  \n    //відображаємо модальне вікно та ініціалізуємо його елементи\n    lightbox.classList.add(ISOPEN_CLASS_NAME);\n    lightbox.addEventListener('click', handlerClick);\n    document.addEventListener('keyup', handlerClick);\n\n    //відображаємо поточне зображення\n    showBigImage(elm);\n\n    //зберігаємо поточне відкрите зображення\n    currentImage = elm;\n    \n  };\n};\n\n\nconst markupArray = galleryItems.map(elm => createTamplate(elm));\ngallery.insertAdjacentHTML('afterbegin', markupArray.join(\"\"));\n\ngallery.addEventListener('click', handlerClick);\ngallery.addEventListener('mousedown', handlerClick);\ngallery.addEventListener('mouseup', handlerClick);"]}